{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchInfo(searchWord) {\n  const params = {\n    q: searchWord,\n    key: '43138861-aa01fee7d014e33c8f4078e7d',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n  return fetch(\n    `https://pixabay.com/api/?key=${params.key}&q=${params.q}&image_type=${params.image_type}&orientation=${params.orientation}&safesearch=${params.safesearch}`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(json => {\n      return json;\n    });\n}\n","import { fetchInfo } from './pixabay-api';\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function request() {\n  const input = document.querySelector('.search');\n  const inputValue = input.value.trim();\n  return inputValue;\n}\n\nexport function markup() {\n  const gallery = document.querySelector('.gallery');\n  const loader = document.querySelector('.loader');\n  const searchWord = request();\n\n  fetchInfo(searchWord).then(data => {\n    loader.style.display = 'block';\n    if (data.hits.length === 0) {\n      loader.style.display = 'none';\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n    } else {\n      setTimeout(() => {\n        const images = data.hits\n          .map(element => {\n            return `<li class=\"gallery-item\">\n        <a class=\"image-link\" href=\"${element.largeImageURL}\">\n          <img class=\"image\" src=\"${element.webformatURL}\" alt=\"${element.tags}\" />\n        </a>\n        <ul class=\"about-image\">\n          <li class=\"likes\">\n            <span class=\"likes-title\">Likes</span>\n            <span class=\"likes-count\">${element.likes}</span>\n          </li>\n          <li class=\"views\">\n            <span class=\"views-title\">Views</span>\n            <span class=\"views-count\">${element.views}</span>\n          </li>\n          <li class=\"comments\">\n            <span class=\"comments-title\">Comments</span>\n            <span class=\"comments-count\">${element.comments}</span>\n          </li>\n          <li class=\"downloads\">\n            <span class=\"downloads-title\">Downloads</span>\n            <span class=\"downloads-count\">${element.downloads}</span>\n          </li>\n        </ul>\n      </li>`;\n          })\n          .join('');\n        loader.style.display = 'none';\n        gallery.insertAdjacentHTML('beforeend', images);\n        let largeGallery = new SimpleLightbox('.gallery a', {\n          captionsData: 'alt',\n          captionsDelay: 250,\n        });\n        largeGallery.refresh();\n      }, 1000);\n    }\n  });\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { request, markup } from './js/render-functions';\n// import { button, } from './js/render-functions';\n\nconst input = document.querySelector('.search');\nconst button = document.querySelector('.button');\nconst gallery = document.querySelector('.gallery');\n\nfunction renderImages(evt) {\n  evt.preventDefault();\n  const searchWord = request();\n  if (searchWord.length === 0) {\n    iziToast.error({\n      message: 'The field must be fullfield',\n      position: 'topRight',\n    });\n  } else {\n    gallery.innerHTML = '';\n\n    markup();\n\n    input.value = '';\n  }\n}\n\ninput.addEventListener('input', request);\nbutton.addEventListener('click', renderImages);\n"],"names":["fetchInfo","searchWord","params","response","json","request","markup","gallery","loader","data","iziToast","images","element","SimpleLightbox","input","button","renderImages","evt"],"mappings":"6vBAAO,SAASA,EAAUC,EAAY,CACpC,MAAMC,EAAS,CACb,EAAGD,EACH,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EACE,OAAO,MACL,gCAAgCC,EAAO,GAAG,MAAMA,EAAO,CAAC,eAAeA,EAAO,UAAU,gBAAgBA,EAAO,WAAW,eAAeA,EAAO,UAAU,EAC3J,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GACGA,CACR,CACL,CCVO,SAASC,GAAU,CAGxB,OAFc,SAAS,cAAc,SAAS,EACrB,MAAM,KAAI,CAErC,CAEO,SAASC,GAAS,CACvB,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCP,EAAaI,IAEnBL,EAAUC,CAAU,EAAE,KAAKQ,GAAQ,CACjCD,EAAO,MAAM,QAAU,QACnBC,EAAK,KAAK,SAAW,GACvBD,EAAO,MAAM,QAAU,OACvBE,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UAClB,CAAO,GAED,WAAW,IAAM,CACf,MAAMC,EAASF,EAAK,KACjB,IAAIG,GACI;AAAA,sCACmBA,EAAQ,aAAa;AAAA,oCACvBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,wCAKtCA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,wCAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,2CAIVA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,4CAIfA,EAAQ,SAAS;AAAA;AAAA;AAAA,YAIlD,EACA,KAAK,EAAE,EACVJ,EAAO,MAAM,QAAU,OACvBD,EAAQ,mBAAmB,YAAaI,CAAM,EAC3B,IAAIE,EAAe,aAAc,CAClD,aAAc,MACd,cAAe,GACzB,CAAS,EACY,QAAO,CACrB,EAAE,GAAI,CAEb,CAAG,CACH,CC9DA,MAAMC,EAAQ,SAAS,cAAc,SAAS,EACxCC,EAAS,SAAS,cAAc,SAAS,EACzCR,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASS,EAAaC,EAAK,CACzBA,EAAI,eAAc,EACCZ,IACJ,SAAW,EACxBK,EAAS,MAAM,CACb,QAAS,8BACT,SAAU,UAChB,CAAK,GAEDH,EAAQ,UAAY,GAEpBD,IAEAQ,EAAM,MAAQ,GAElB,CAEAA,EAAM,iBAAiB,QAAST,CAAO,EACvCU,EAAO,iBAAiB,QAASC,CAAY"}